{"version":3,"file":"js/265.d46cad0e.js","mappings":"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","sources":["webpack://frontend-ebox-platform/./src/views/MonitoringView.vue","webpack://frontend-ebox-platform/./src/api/MonitoringService.js","webpack://frontend-ebox-platform/./src/components/monitoring/MonitoringLayout.vue","webpack://frontend-ebox-platform/./src/components/monitoring/MonitoringArea.vue","webpack://frontend-ebox-platform/./src/components/monitoring/MonitoringBeacon.vue","webpack://frontend-ebox-platform/./src/components/monitoring/MonitoringBeacon.vue?d5bc","webpack://frontend-ebox-platform/./src/components/monitoring/MonitoringArea.vue?9e7c","webpack://frontend-ebox-platform/./src/components/monitoring/MonitoringLayout.vue?8836","webpack://frontend-ebox-platform/./src/views/MonitoringView.vue?d7e2"],"sourcesContent":["<template>\n    <div class=\"relative p-6\">\n        <!-- Encabezado -->\n        <div class=\"flex justify-between items-center mb-6\">\n            <h1 class=\"text-3xl font-bold text-gray-800\">Monitoreo en Tiempo Real</h1>\n            <button @click=\"fetchMonitoringData\"\n                class=\"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition\">\n                Recargar Datos\n            </button>\n        </div>\n\n        <!-- Buscador -->\n        <div class=\"relative mb-6\">\n            <input v-model=\"searchQuery\" @input=\"updateSearchResults\" type=\"text\"\n                placeholder=\"Buscar beacons por nombre...\"\n                class=\"w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\" />\n            <!-- Lista de coincidencias -->\n            <ul v-if=\"searchResults.length > 0 && searchQuery.length > 0\"\n                class=\"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow mt-1\">\n                <li v-for=\"result in searchResults\" :key=\"result.id\" @click=\"selectBeaconFromSearch(result.id)\"\n                    class=\"px-4 py-2 hover:bg-blue-100 cursor-pointer flex justify-between\">\n                    <span>{{ result.name }}</span>\n                    <span class=\"text-gray-500 text-sm\">{{ result.proxyPhone }}</span>\n                </li>\n            </ul>\n\n\n        </div>\n\n        <!-- Indicadores de Estado -->\n        <div v-if=\"loading\" class=\"text-center text-gray-500\">\n            <p>Cargando datos de monitoreo...</p>\n        </div>\n        <div v-else-if=\"error\" class=\"text-center text-red-500\">\n            <p>Error al cargar datos: {{ error }}</p>\n        </div>\n\n        <!-- Datos Filtrados -->\n        <div v-else>\n            <div v-if=\"filteredLayouts.length > 0\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                <MonitoringLayout v-for=\"layout in filteredLayouts\" :key=\"layout._id\" :layout=\"layout\"\n                    @beaconSelected=\"selectBeacon\" :highlightedBeacon=\"highlightedBeacon\" />\n            </div>\n            <div v-else class=\"text-center text-gray-500 text-sm mt-6\">\n                No se encontraron beacons que coincidan con la búsqueda.\n            </div>\n        </div>\n\n        <!-- Panel Lateral -->\n        <transition name=\"slide\" mode=\"out-in\">\n            <div v-if=\"selectedBeacon\"\n                class=\"fixed top-0 right-0 h-full w-96 bg-white shadow-xl z-50 border-l border-gray-300 flex flex-col\">\n                <div class=\"p-6 border-b border-gray-200 flex justify-between items-center\">\n                    <h2 class=\"text-lg font-semibold text-gray-800\">{{ selectedBeacon.name }}</h2>\n                    <button @click=\"closePanel\" class=\"text-gray-400 hover:text-red-500 transition\">\n                        ✕\n                    </button>\n                </div>\n                <div class=\"p-6 space-y-4 flex-1 overflow-y-auto\">\n                    <p class=\"text-sm text-gray-500\"><strong>MAC:</strong> {{ selectedBeacon.mac }}</p>\n                    <p class=\"text-sm text-gray-500\"><strong>RSSI:</strong> {{ selectedBeacon.RSSI }}</p>\n                    <p class=\"text-sm text-gray-500\"><strong>Proxy:</strong> {{ selectedBeacon.proxyName }}</p>\n                    <p class=\"text-sm text-gray-500\"><strong>Email:</strong> {{ selectedBeacon.proxyEmail }}</p>\n                    <p class=\"text-sm text-gray-500\"><strong>Teléfono:</strong> {{ selectedBeacon.proxyPhone }}</p>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from \"vue\";\nimport { listmonitoringApi } from \"@/api/MonitoringService\";\nimport store from \"@/store\";\nimport MonitoringLayout from \"@/components/monitoring/MonitoringLayout.vue\";\n\nexport default {\n    name: \"MonitoringView\",\n    components: {\n        MonitoringLayout,\n    },\n    setup() {\n        const highlightedBeacon = ref(null);\n        const loading = ref(false);\n        const error = ref(null);\n        const layouts = ref([]);\n        const selectedBeacon = ref(null);\n        const searchQuery = ref(\"\");\n        const searchResults = ref([]);\n        const selectedSearchResult = ref(\"\");\n\n        const fetchMonitoringData = async () => {\n            loading.value = true;\n            error.value = null;\n            try {\n                const token = store.state.token;\n                const response = await listmonitoringApi(token);\n                layouts.value = response.data.data;\n            } catch (err) {\n                console.error(\"Error al obtener datos de monitoreo:\", err);\n                error.value = err.message || \"Error desconocido\";\n            } finally {\n                loading.value = false;\n            }\n        };\n\n        const updateSearchResults = () => {\n            if (!searchQuery.value.trim()) {\n                searchResults.value = [];\n                selectedSearchResult.value = \"\";\n                return;\n            }\n            const query = searchQuery.value.toLowerCase();\n            const allBeacons = layouts.value.flatMap(layout =>\n                layout.areas.flatMap(area => area.items)\n            );\n\n            // Filtra y extrae `_id`, `name`, y `proxyPhone`\n            searchResults.value = allBeacons\n                .filter(beacon => beacon.name.toLowerCase().includes(query))\n                .map(beacon => ({\n                    id: beacon._id,\n                    name: beacon.name,\n                    proxyPhone: beacon.proxyPhone,\n                }));\n        };\n\n\n\n        const filteredLayouts = computed(() => {\n            if (!selectedSearchResult.value.trim()) {\n                return layouts.value;\n            }\n            const query = selectedSearchResult.value.toLowerCase();\n            return layouts.value\n                .map((layout) => ({\n                    ...layout,\n                    areas: layout.areas.map((area) => ({\n                        ...area,\n                        items: area.items.filter((beacon) =>\n                            beacon.name.toLowerCase() === query\n                        ),\n                    })).filter((area) => area.items.length > 0),\n                }))\n                .filter((layout) => layout.areas.length > 0);\n        });\n\n        const selectBeaconFromSearch = (id) => {\n            const beacon = layouts.value\n                .flatMap(layout => layout.areas.flatMap(area => area.items))\n                .find(beacon => beacon._id === id);\n\n            if (beacon) {\n                highlightedBeacon.value = beacon._id; // Usar _id único\n                setTimeout(() => (highlightedBeacon.value = null), 3000); // Resalta por 3 segundos\n            }\n\n            // Limpia el select y el input después de seleccionar\n            searchQuery.value = \"\";\n            searchResults.value = [];\n        };\n\n\n\n\n        const selectBeacon = (beacon) => {\n            selectedBeacon.value = beacon;\n        };\n\n        const closePanel = () => {\n            selectedBeacon.value = null;\n        };\n\n        onMounted(() => {\n            fetchMonitoringData();\n        });\n\n        return {\n            loading,\n            error,\n            layouts,\n            selectedBeacon,\n            searchQuery,\n            searchResults,\n            selectedSearchResult,\n            filteredLayouts,\n            updateSearchResults,\n            selectBeaconFromSearch,\n            selectBeacon,\n            closePanel,\n            fetchMonitoringData,\n            highlightedBeacon,\n\n        };\n    },\n};\n</script>\n","import axiosInstance from \"@/config/http.config\";\n\n\nconst baseURL = process.env.VUE_APP_BASE_URL;\n\nexport function listmonitoringApi(token) {\n  return axiosInstance.get(`${baseURL}/monitoring`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}","<template>\n    <div class=\"border border-gray-300 rounded-lg shadow-lg mb-6 bg-gray-50 transition duration-300 hover:shadow-xl\">\n        <!-- Cabecera del Layout -->\n        <div class=\"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center\">\n            <h2 class=\"text-lg font-bold\">{{ layout.name }}</h2>\n            <div class=\"text-sm\">\n                <span class=\"font-medium\">Áreas:</span> {{ layout.areas.length }}\n            </div>\n        </div>\n\n        <!-- Áreas -->\n        <div class=\"p-4 flex flex-wrap gap-4\">\n            <div v-for=\"(area, index) in layout.areas\" :key=\"area._id\" class=\"mb-4\">\n                <MonitoringArea \n                    :area=\"area\" \n                    :areaIndex=\"index\" \n                    :highlightedBeacon=\"highlightedBeacon\" \n                    @beaconSelected=\"$emit('beaconSelected', $event)\"\n                />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport MonitoringArea from \"@/components/monitoring/MonitoringArea.vue\";\n\nexport default {\n    name: \"MonitoringLayout\",\n    props: {\n        layout: {\n            type: Object,\n            required: true,\n        },\n        highlightedBeacon: {\n            type: String,\n            default: null, // ID del beacon a resaltar\n        },\n    },\n    components: {\n        MonitoringArea,\n    },\n};\n</script>\n\n<style scoped>\n/* Estilo adicional para ajustar la apariencia */\n</style>\n","<template>\n    <div \n        class=\"border border-gray-200 rounded-lg shadow-md hover:bg-gray-100 transition duration-300\" \n        :style=\"{ background: getBackgroundColor(areaIndex) }\"\n    >\n        <!-- Cabecera del Área -->\n        <div class=\"p-4 rounded-t-lg\">\n            <h3 class=\"text-md font-medium text-gray-800\">{{ area.name }}</h3>\n        </div>\n\n        <!-- Lista de Beacons -->\n        <div v-if=\"area.items.length > 0\" class=\"p-4 grid grid-cols-2 md:grid-cols-3 gap-4\">\n            <MonitoringBeacon \n                v-for=\"beacon in area.items\" \n                :key=\"beacon._id\" \n                :beacon=\"beacon\" \n                :highlighted=\"highlightedBeacon === beacon._id\" \n                @click=\"selectBeacon(beacon)\"\n            />\n        </div>\n\n        <!-- Mensaje de Área Vacía -->\n        <div v-else class=\"p-4 text-center text-gray-500 text-sm\">\n            No hay beacons en esta área.\n        </div>\n    </div>\n</template>\n\n<script>\nimport MonitoringBeacon from '@/components/monitoring/MonitoringBeacon.vue';\n\nexport default {\n    name: 'MonitoringArea',\n    props: {\n        area: {\n            type: Object,\n            required: true,\n        },\n        areaIndex: {\n            type: Number,\n            required: true, // Para recibir el índice del área desde el componente padre\n        },\n        highlightedBeacon: {\n            type: String,\n            default: null, // ID del beacon a resaltar\n        },\n    },\n    components: {\n        MonitoringBeacon,\n    },\n    setup(props, { emit }) {\n        // Colores predefinidos para las áreas\n        const backgroundColors = [\n            'linear-gradient(to right, #DED93A, #EEA735)', \n            'linear-gradient(to right, #09bdf7, #3ADEC6)', \n            'linear-gradient(to right, #40EFEF, #34B6E5)', \n            'linear-gradient(to right, #D0A6F4, #B06BED)', \n            'linear-gradient(to right, #EDAE6B, #EF9B40)', \n        ];\n\n        // Obtener el color de fondo según el índice\n        const getBackgroundColor = (index) => {\n            return backgroundColors[index % backgroundColors.length];\n        };\n\n        const selectBeacon = (beacon) => {\n            emit('beaconSelected', beacon);\n        };\n\n        return {\n            getBackgroundColor,\n            selectBeacon,\n        };\n    },\n};\n</script>\n\n<style scoped>\n/* Estilos adicionales para ajustar el diseño */\n</style>\n","<template>\n    <div class=\"relative\">\n        <!-- Ícono del Beacon -->\n        <div \n            :class=\"['w-12 h-12 flex items-center justify-center rounded-full shadow-inner cursor-pointer transition duration-300', \n                     { 'bg-blue-100 hover:bg-blue-200': !highlighted, 'animate-flash': highlighted }]\"\n            @click=\"$emit('click')\"\n            @mouseover=\"showTooltip = true\"\n            @mouseleave=\"showTooltip = false\"\n        >\n            <i :class=\"[beacon.icon, 'text-2xl text-blue-600']\"></i>\n        </div>\n\n        <!-- Tooltip -->\n        <div \n            v-if=\"showTooltip\" \n            class=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-1 px-3 py-1 bg-black text-white text-sm font-medium rounded-md\"\n        >\n            {{ beacon.name }}\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"MonitoringBeacon\",\n    props: {\n        beacon: {\n            type: Object,\n            required: true,\n        },\n        highlighted: {\n            type: Boolean,\n            default: false, // Indica si este beacon debe parpadear\n        },\n    },\n    data() {\n        return {\n            showTooltip: false, // Controla la visibilidad del tooltip\n        };\n    },\n};\n</script>\n\n<style scoped>\n/* Animación de parpadeo */\n@keyframes flash {\n    0%, 100% {\n        background-color: rgba(19, 204, 84, 0); /* Sin color */\n    }\n    50% {\n        background-color: rgba(255, 60, 0, 0.791); /* Amarillo tenue */\n    }\n}\n.animate-flash {\n    animation: flash 1s ease-in-out infinite;\n}\n</style>\n","import { render } from \"./MonitoringBeacon.vue?vue&type=template&id=78881c22&scoped=true\"\nimport script from \"./MonitoringBeacon.vue?vue&type=script&lang=js\"\nexport * from \"./MonitoringBeacon.vue?vue&type=script&lang=js\"\n\nimport \"./MonitoringBeacon.vue?vue&type=style&index=0&id=78881c22&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78881c22\"]])\n\nexport default __exports__","import { render } from \"./MonitoringArea.vue?vue&type=template&id=ad2f6782&scoped=true\"\nimport script from \"./MonitoringArea.vue?vue&type=script&lang=js\"\nexport * from \"./MonitoringArea.vue?vue&type=script&lang=js\"\n\nimport \"./MonitoringArea.vue?vue&type=style&index=0&id=ad2f6782&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ad2f6782\"]])\n\nexport default __exports__","import { render } from \"./MonitoringLayout.vue?vue&type=template&id=60217f97&scoped=true\"\nimport script from \"./MonitoringLayout.vue?vue&type=script&lang=js\"\nexport * from \"./MonitoringLayout.vue?vue&type=script&lang=js\"\n\nimport \"./MonitoringLayout.vue?vue&type=style&index=0&id=60217f97&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-60217f97\"]])\n\nexport default __exports__","import { render } from \"./MonitoringView.vue?vue&type=template&id=35e45d55\"\nimport script from \"./MonitoringView.vue?vue&type=script&lang=js\"\nexport * from \"./MonitoringView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","key","_hoisted_9","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","args","$setup","fetchMonitoringData","_hoisted_4","$event","searchQuery","onInput","updateSearchResults","type","placeholder","searchResults","length","_hoisted_5","_Fragment","_renderList","result","id","selectBeaconFromSearch","_toDisplayString","name","_hoisted_7","proxyPhone","_hoisted_6","_createCommentVNode","loading","_hoisted_8","_hoisted_10","error","_hoisted_11","_hoisted_12","filteredLayouts","_hoisted_13","layout","_createBlock","_component_MonitoringLayout","_id","onBeaconSelected","selectBeacon","highlightedBeacon","_hoisted_14","_createVNode","_Transition","mode","default","_withCtx","selectedBeacon","_hoisted_15","_hoisted_16","_hoisted_17","closePanel","_hoisted_18","_hoisted_19","_hoisted_20","_createTextVNode","mac","_hoisted_21","_hoisted_22","RSSI","_hoisted_23","_hoisted_24","proxyName","_hoisted_25","_hoisted_26","proxyEmail","_hoisted_27","_hoisted_28","_","baseURL","process","listmonitoringApi","token","axiosInstance","get","headers","Authorization","$props","areas","area","index","_component_MonitoringArea","areaIndex","_ctx","$emit","style","_normalizeStyle","background","getBackgroundColor","items","beacon","_component_MonitoringBeacon","highlighted","_normalizeClass","onMouseover","$data","showTooltip","onMouseleave","icon","props","Object","required","Boolean","data","__exports__","Number","String","components","MonitoringBeacon","setup","emit","backgroundColors","MonitoringArea","MonitoringLayout","ref","layouts","selectedSearchResult","async","value","store","state","response","err","console","message","trim","query","toLowerCase","allBeacons","flatMap","filter","includes","map","computed","find","setTimeout","onMounted","render"],"sourceRoot":""}