"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[964],{9980:function(e,t,a){a.d(t,{$x:function(){return l},Qt:function(){return s},ZL:function(){return n},ZZ:function(){return i}});var o=a(1189);const r="http://198.211.99.223:3000/api/v1";function n(e){return o.A.get(`${r}/areas`,{headers:{Authorization:`Bearer ${e}`}})}function l(e,t){return o.A.delete(`${r}/areas/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return o.A.post(`${r}/areas`,t,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t,a){return o.A.patch(`${r}/areas/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},9509:function(e,t,a){a.d(t,{a$:function(){return i},bN:function(){return n},hO:function(){return s},uq:function(){return l}});var o=a(1189);const r="http://198.211.99.223:3000/api/v1";function n(e){return o.A.get(`${r}/layouts`,{headers:{Authorization:`Bearer ${e}`}})}function l(e,t){return o.A.delete(`${r}/layouts/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return o.A.post(`${r}/layouts`,t,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t,a){return o.A.patch(`${r}/layouts/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},8208:function(e,t,a){a.d(t,{A:function(){return w}});var o=a(6768),r=a(5130),n=a(4232);const l={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50"},s={class:"bg-white rounded-lg shadow-lg max-w-md w-full p-6"},i=(0,o.Lk)("h2",{class:"text-xl font-semibold text-gray-700 mb-4 text-center"},"Crear Nueva Area",-1),u={class:"mb-4"},d=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1),c={class:"mb-4"},m=(0,o.Lk)("label",{for:"countries",class:"block text-sm font-medium text-gray-500 mb-1"}," Seleccionar Layout ",-1),b=(0,o.Lk)("option",{value:"",disabled:"",selected:""},"layouts",-1),y=["value"],f={class:"flex justify-end space-x-2"},p=(0,o.Lk)("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," Guardar ",-1);function g(e,t,a,g,k,v){return g.item?((0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",s,[i,(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,r.D$)(((...e)=>g.submitForm&&g.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",u,[d,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>g.form.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[r.Jo,g.form.name]])]),(0,o.Lk)("div",c,[m,(0,o.bo)((0,o.Lk)("select",{id:"countries","onUpdate:modelValue":t[1]||(t[1]=e=>g.form.layoutId=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:placeholder-gray-400 dark:text-black dark:focus:ring-blue-500 dark:focus:border-blue-500"},[b,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.layouts,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e._id,value:e._id},(0,n.v_)(e.name),9,y)))),128))],512),[[r.u1,g.form.layoutId]])]),(0,o.Lk)("div",f,[(0,o.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>g.closeDialog&&g.closeDialog(...e)),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),p])],32)])])):(0,o.Q3)("",!0)}var k=a(144),v=a(9509),x=a(5129),h={emits:["close","ItemCreate"],setup(e,{emit:t}){const a=(0,k.KR)(!0),r=(0,k.KR)([]),n=(0,k.KR)({name:"",layoutId:""}),l=async()=>{const e=x.A.state.token,t=await(0,v.bN)(e);r.value=t.data.data},s=()=>{t("close")},i=async()=>{t("ItemCreate",n.value)};return(0,o.sV)(l),{item:a,form:n,closeDialog:s,submitForm:i,listLayout:l,layouts:r}}},L=a(1241);const A=(0,L.A)(h,[["render",g]]);var w=A},4553:function(e,t,a){a.d(t,{A:function(){return w}});var o=a(6768),r=a(5130),n=a(4232);const l={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50"},s={class:"bg-white rounded-lg shadow-lg max-w-md w-full p-6"},i=(0,o.Lk)("h2",{class:"text-lg font-semibold text-gray-700 mb-4 text-center"},"Editar Area",-1),u={class:"mb-4"},d=(0,o.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1),c={class:"mb-4"},m=(0,o.Lk)("label",{for:"countries",class:"block text-sm font-medium text-gray-500 mb-1"}," Seleccionar Layout ",-1),b=(0,o.Lk)("option",{value:"",disabled:""},"Seleccionar Layout",-1),y=["value"],f={class:"flex justify-end space-x-2"},p=(0,o.Lk)("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," Guardar Cambios ",-1);function g(e,t,a,g,k,v){return a.item?((0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",s,[i,(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,r.D$)(((...e)=>g.submitUpdate&&g.submitUpdate(...e)),["prevent"]))},[(0,o.Lk)("div",u,[d,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>g.editedItem.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[r.Jo,g.editedItem.name]])]),(0,o.Lk)("div",c,[m,(0,o.bo)((0,o.Lk)("select",{id:"countries","onUpdate:modelValue":t[1]||(t[1]=e=>g.editedItem.layout._id=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:placeholder-gray-400 dark:text-black dark:focus:ring-blue-500 dark:focus:border-blue-500"},[b,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.layouts,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e._id,value:e._id},(0,n.v_)(e.name),9,y)))),128))],512),[[r.u1,g.editedItem.layout._id]])]),(0,o.Lk)("div",f,[(0,o.Lk)("button",{type:"button",onClick:t[2]||(t[2]=t=>e.$emit("close")),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),p])],32)])])):(0,o.Q3)("",!0)}var k=a(144),v=a(9509),x=a(5129),h={props:{item:{type:Object,required:!0}},emits:["close","updateItem"],setup(e,{emit:t}){const a=(0,k.KR)({...e.item}),r=(0,k.KR)([]);(0,o.wB)((()=>e.item),(e=>{a.value={...e}}));const n=async()=>{try{const e=x.A.state.token,t=await(0,v.bN)(e);r.value=t.data.data}catch(e){console.log("error al obtener layouts")}};(0,o.wB)((()=>a.value.layout._id),(e=>{const t=r.value.find((t=>t._id===e));t&&(a.value.layout={...t})}));const l=()=>{t("updateItem",a.value)};return(0,o.sV)(n),{editedItem:a,submitUpdate:l,listLayout:n,layouts:r}}},L=a(1241);const A=(0,L.A)(h,[["render",g]]);var w=A},1964:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var o=a(6768);const r={class:"flex justify-between items-center"},n=(0,o.Lk)("h1",{class:"font-bold lg:text-2xl text-xl text-gray-500 mb-5"}," Areas",-1),l={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 z-50"},s=(0,o.Lk)("div",{class:"flex flex-col items-center space-y-4"},[(0,o.Lk)("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"}),(0,o.Lk)("p",{class:"text-white text-lg font-semibold"},"Cargando, por favor espera...")],-1),i=[s];function u(e,t,a,s,u,d){const c=(0,o.g2)("DataTable"),m=(0,o.g2)("AntennasModal"),b=(0,o.g2)("createForm"),y=(0,o.g2)("EditForm");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.Lk)("div",r,[n,(0,o.Lk)("button",{class:"flex items-center justify-center bg-[#318bf1] text-white font-semibold px-5 py-2 rounded-lg hover:bg-orange-500 shadow-md",onClick:t[0]||(t[0]=(...e)=>s.openCreateForm&&s.openCreateForm(...e))}," Crear + ")]),(0,o.bF)(c,{items:s.items,onViewAntennas:s.listAntennas,onDeleteItem:s.deleteItems,onEditItem:s.openEditForm},null,8,["items","onViewAntennas","onDeleteItem","onEditItem"]),s.isAntennasModalVisible?((0,o.uX)(),(0,o.Wv)(m,{key:0,antennas:s.selectedAntennas,onClose:s.closeAntennaModal,isVisible:s.isAntennasModalVisible},null,8,["antennas","onClose","isVisible"])):(0,o.Q3)("",!0),s.isCreateFormVisible?((0,o.uX)(),(0,o.Wv)(b,{key:1,onClose:s.closeCreateForm,onItemCreate:s.submitItems},null,8,["onClose","onItemCreate"])):(0,o.Q3)("",!0),s.isEditFormVisible?((0,o.uX)(),(0,o.Wv)(y,{key:2,item:s.selectedItem,onClose:s.closeEditForm,onUpdateItem:s.updateItems},null,8,["item","onClose","onUpdateItem"])):(0,o.Q3)("",!0)]),s.isLoading?((0,o.uX)(),(0,o.CE)("div",l,i)):(0,o.Q3)("",!0)],64)}var d=a(144),c=a(9980),m=a(4232);const b=e=>((0,o.Qi)("data-v-384b8d8e"),e=e(),(0,o.jt)(),e),y={class:"overflow-y-auto bg-white rounded-lg shadow-lg max-w-md w-full p-0",style:{"max-height":"80vh","margin-bottom":"1rem"}},f=b((()=>(0,o.Lk)("div",{class:"flex justify-between items-center p-2 border-b bg-blue-500 text-white rounded-t-lg"},[(0,o.Lk)("h1",{class:"text-xl flex items-center"},[(0,o.Lk)("i",{class:"mdi mdi-access-point text-white text-3xl ml-2"}),(0,o.eW)(" Antenas ")])],-1))),p={class:"p-4"},g={class:"divide-y divide-gray-300"},k={class:"flex-1"},v={class:"font-semibold text-gray-800"},x=b((()=>(0,o.Lk)("i",{class:"mdi mdi-information-outline text-gray-400 hover:text-gray-600 text-xl cursor-pointer transition"},null,-1))),h={class:"flex justify-end p-4 border-t bg-gray-100 rounded-b-lg"};function L(e,t,a,r,n,l){return a.isVisible?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",onClick:t[1]||(t[1]=(...e)=>l.closeModal&&l.closeModal(...e))},[(0,o.Lk)("div",y,[f,(0,o.Lk)("div",p,[(0,o.Lk)("ul",g,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.antennas,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t,class:"py-4 flex items-center space-x-4"},[(0,o.Lk)("div",k,[(0,o.Lk)("p",v,(0,m.v_)(e.mac),1)]),x])))),128))])]),(0,o.Lk)("div",h,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.closeModal&&l.closeModal(...e)),class:"px-4 py-2 text-sm font-medium text-white bg-blue-500 rounded-lg hover:bg-blue-600 transition"}," Cerrar ")])])])):(0,o.Q3)("",!0)}var A={name:"ViewAreas",props:{antennas:{type:Array,required:!0},isVisible:{type:Boolean,required:!0}},emits:["close"],methods:{closeModal(){this.$emit("close")}}},w=a(1241);const C=(0,w.A)(A,[["render",L],["__scopeId","data-v-384b8d8e"]]);var I=C,F=a(8208),E=a(4553),$=a(5129),_=a(197),V=a(6329),K=a(9669),X=a(4750);function R(e,t,a,r,n,l){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(X.W,{modelValue:r.search,"onUpdate:modelValue":t[0]||(t[0]=e=>r.search=e),label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-5 PT-3"},null,8,["modelValue"]),(0,o.bF)(_.J,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(V.Py,{headers:r.headers,items:r.filteredItems,search:r.search},{["item.areas"]:(0,o.k6)((({item:e})=>[(0,o.bF)(K.w,{small:"",color:"blue",onClick:t=>r.viewAntennas(e.areaPoints)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-eye ")])),_:2},1032,["onClick"])])),["item.actions"]:(0,o.k6)((({item:e})=>[(0,o.bF)(K.w,{small:"",color:"green",class:"mr-4",onClick:t=>r.editItem(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(K.w,{small:"",color:"red",onClick:t=>r.deleteItem(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-delete ")])),_:2},1032,["onClick"])])),_:2},1032,["headers","items","search"])])),_:1})],64)}var j={name:"DataTable",props:{items:{type:Array,required:!0}},emits:["deleteItem","editItem","viewAntennas"],setup(e,{emit:t}){const a=(0,d.KR)(""),r=(0,d.KR)([{key:"id",title:"ID"},{key:"name",title:"Nombre"},{key:"layout.name",title:"Layout"},{key:"areas",title:"Antenas"},{key:"actions",title:"Acciones",sortable:!1}]),n=(0,o.EW)((()=>{if(!a.value)return l.value;const e=a.value.toLowerCase();return l.value.filter((t=>Object.values(t).some((t=>String(t).toLowerCase().includes(e)))))})),l=(0,o.EW)((()=>e.items.map(((e,t)=>({id:t+1,...e}))))),s=e=>{t("deleteItem",e)},i=e=>{t("editItem",e)},u=e=>{t("viewAntennas",e)};return{search:a,headers:r,filteredItems:n,deleteItem:s,editItem:i,viewAntennas:u}}};const B=(0,w.A)(j,[["render",R],["__scopeId","data-v-75c66094"]]);var M=B,D={components:{DataTable:M,AntennasModal:I,createForm:F.A,EditForm:E.A},setup(){const e=(0,d.KR)([]),t=(0,d.KR)(null),a=(0,d.KR)(null),r=(0,d.KR)(!1),n=(0,d.KR)(!1),l=(0,d.KR)(!1),s=(0,d.KR)(!1),i=()=>{l.value=!0},u=()=>{l.value=!1},m=()=>{r.value=!0},b=()=>{r.value=!1},y=e=>{t.value=e,n.value=!0},f=()=>{n.value=!1,t.value=null},p=e=>{a.value={...e},s.value=!0},g=()=>{s.value=!1},k=async e=>{m();try{const t=$.A.state.token,a=e._id,o={name:e.name,layoutId:e.layout._id},r=await(0,c.ZZ)(t,o,a);r&&(g(),b()),await h()}catch(t){b()}},v=async e=>{try{const t=$.A.state.token,a={name:e.name,layoutId:e.layoutId};await(0,c.Qt)(t,a),await h(),u()}catch(t){u(),console.error("error al crear area:",t)}},x=async e=>{m();try{const t=$.A.state.token,a=e._id,o=await(0,c.$x)(t,a);o&&b(),await h()}catch(t){b(),console.error("Error al obtener los layout:",t)}},h=async()=>{m();try{const t=$.A.state.token,a=await(0,c.ZL)(t);e.value=a.data.data,a&&b()}catch(t){b(),console.error("Error al obtener las rutas:",t)}};return(0,o.sV)(h),{items:e,fetchItems:h,openLoading:m,closeLoading:b,isLoading:r,listAntennas:y,closeAntennaModal:f,deleteItems:x,isCreateFormVisible:l,openCreateForm:i,closeCreateForm:u,submitItems:v,updateItems:k,openEditForm:p,closeEditForm:g,isEditFormVisible:s,selectedItem:a,isAntennasModalVisible:n,selectedAntennas:t}}};const Q=(0,w.A)(D,[["render",u]]);var U=Q}}]);
//# sourceMappingURL=964.2695f221.js.map