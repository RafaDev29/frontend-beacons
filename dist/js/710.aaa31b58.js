"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[710],{9980:function(e,t,a){a.d(t,{$x:function(){return s},Qt:function(){return l},ZL:function(){return n},ZZ:function(){return i}});var r=a(1189);const o="http://198.211.99.223:3000/api/v1";function n(e){return r.A.get(`${o}/areas`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return r.A.delete(`${o}/areas/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function l(e,t){return r.A.post(`${o}/areas`,t,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t,a){return r.A.patch(`${o}/areas/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},2683:function(e,t,a){a.d(t,{GP:function(){return s},LO:function(){return l},Pu:function(){return n},ek:function(){return i}});var r=a(1189);const o="http://198.211.99.223:3000/api/v1";function n(e){return r.A.get(`${o}/type-areapoints`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return r.A.delete(`${o}/type-areapoints/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function l(e,t){return r.A.post(`${o}/type-areapoints`,t,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t,a){return r.A.patch(`${o}/type-areapoints/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},9509:function(e,t,a){a.d(t,{a$:function(){return i},bN:function(){return n},hO:function(){return l},uq:function(){return s}});var r=a(1189);const o="http://198.211.99.223:3000/api/v1";function n(e){return r.A.get(`${o}/layouts`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return r.A.delete(`${o}/layouts/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function l(e,t){return r.A.post(`${o}/layouts`,t,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t,a){return r.A.patch(`${o}/layouts/${a}`,t,{headers:{Authorization:`Bearer ${e}`}})}},4553:function(e,t,a){a.d(t,{A:function(){return L}});var r=a(6768),o=a(5130),n=a(4232);const s={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50"},l={class:"bg-white rounded-lg shadow-lg max-w-md w-full p-6"},i=(0,r.Lk)("h2",{class:"text-lg font-semibold text-gray-700 mb-4 text-center"},"Editar Area",-1),u={class:"mb-4"},d=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Nombre",-1),c={class:"mb-4"},m=(0,r.Lk)("label",{for:"countries",class:"block text-sm font-medium text-gray-500 mb-1"}," Seleccionar Layout ",-1),b=(0,r.Lk)("option",{value:"",disabled:""},"Seleccionar Layout",-1),f=["value"],p={class:"flex justify-end space-x-2"},y=(0,r.Lk)("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," Guardar Cambios ",-1);function g(e,t,a,g,k,v){return a.item?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",l,[i,(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>g.submitUpdate&&g.submitUpdate(...e)),["prevent"]))},[(0,r.Lk)("div",u,[d,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>g.editedItem.name=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[o.Jo,g.editedItem.name]])]),(0,r.Lk)("div",c,[m,(0,r.bo)((0,r.Lk)("select",{id:"countries","onUpdate:modelValue":t[1]||(t[1]=e=>g.editedItem.layout._id=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:placeholder-gray-400 dark:text-black dark:focus:ring-blue-500 dark:focus:border-blue-500"},[b,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(g.layouts,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e._id,value:e._id},(0,n.v_)(e.name),9,f)))),128))],512),[[o.u1,g.editedItem.layout._id]])]),(0,r.Lk)("div",p,[(0,r.Lk)("button",{type:"button",onClick:t[2]||(t[2]=t=>e.$emit("close")),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),y])],32)])])):(0,r.Q3)("",!0)}var k=a(144),v=a(9509),h=a(5129),x={props:{item:{type:Object,required:!0}},emits:["close","updateItem"],setup(e,{emit:t}){const a=(0,k.KR)({...e.item}),o=(0,k.KR)([]);(0,r.wB)((()=>e.item),(e=>{a.value={...e}}));const n=async()=>{try{const e=h.A.state.token,t=await(0,v.bN)(e);o.value=t.data.data}catch(e){console.log("error al obtener layouts")}};(0,r.wB)((()=>a.value.layout._id),(e=>{const t=o.value.find((t=>t._id===e));t&&(a.value.layout={...t})}));const s=()=>{t("updateItem",a.value)};return(0,r.sV)(n),{editedItem:a,submitUpdate:s,listLayout:n,layouts:o}}},A=a(1241);const I=(0,A.A)(x,[["render",g]]);var L=I},8710:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var r=a(6768);const o={class:"flex justify-between items-center"},n=(0,r.Lk)("h1",{class:"font-bold lg:text-2xl text-xl text-gray-500 mb-5"}," Antenas",-1),s={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 z-50"},l=(0,r.Lk)("div",{class:"flex flex-col items-center space-y-4"},[(0,r.Lk)("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"}),(0,r.Lk)("p",{class:"text-white text-lg font-semibold"},"Cargando, por favor espera...")],-1),i=[l];function u(e,t,a,l,u,d){const c=(0,r.g2)("DataTable"),m=(0,r.g2)("createForm"),b=(0,r.g2)("EditForm");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",null,[(0,r.Lk)("div",o,[n,(0,r.Lk)("button",{class:"flex items-center justify-center bg-[#318bf1] text-white font-semibold px-5 py-2 rounded-lg hover:bg-orange-500 shadow-md",onClick:t[0]||(t[0]=(...e)=>l.openCreateForm&&l.openCreateForm(...e))}," Crear + ")]),(0,r.bF)(c,{items:l.items,onViewAntennas:l.listAntennas,onDeleteItem:l.deleteItems,onEditItem:l.openEditForm},null,8,["items","onViewAntennas","onDeleteItem","onEditItem"]),l.isCreateFormVisible?((0,r.uX)(),(0,r.Wv)(m,{key:0,onClose:l.closeCreateForm,onItemCreate:l.submitItems},null,8,["onClose","onItemCreate"])):(0,r.Q3)("",!0),l.isEditFormVisible?((0,r.uX)(),(0,r.Wv)(b,{key:1,item:l.selectedItem,onClose:l.closeEditForm,onUpdateItem:l.updateItems},null,8,["item","onClose","onUpdateItem"])):(0,r.Q3)("",!0)]),l.isLoading?((0,r.uX)(),(0,r.CE)("div",s,i)):(0,r.Q3)("",!0)],64)}var d=a(144),c=a(9980),m=a(1189);const b="http://198.211.99.223:3000/api/v1";function f(e){return m.A.get(`${b}/area-points`,{headers:{Authorization:`Bearer ${e}`}})}function p(e,t){return m.A.delete(`${b}/area-points/${t}`,{headers:{Authorization:`Bearer ${e}`}})}function y(e,t){return m.A.post(`${b}/area-points`,t,{headers:{Authorization:`Bearer ${e}`}})}var g=a(5130),k=a(4232);const v={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50"},h={class:"bg-white rounded-lg shadow-lg max-w-md w-full p-6"},x=(0,r.Lk)("h2",{class:"text-xl font-semibold text-gray-700 mb-4 text-center"},"Crear Nueva Antena",-1),A={class:"mb-4"},I=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Mac",-1),L={class:"mb-4"},C=(0,r.Lk)("label",{for:"countries",class:"block text-sm font-medium text-gray-500 mb-1"}," Seleccionar Areas ",-1),$=(0,r.Lk)("option",{value:"",disabled:"",selected:""},"areas",-1),w=["value"],F={class:"mb-4"},E=(0,r.Lk)("label",{for:"countries",class:"block text-sm font-medium text-gray-500 mb-1"}," Seleccionar categoria de antenas ",-1),_=(0,r.Lk)("option",{value:"",disabled:"",selected:""},"Antenas",-1),K=["value"],B={class:"flex justify-end space-x-2"},V=(0,r.Lk)("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," Guardar ",-1);function z(e,t,a,o,n,s){return o.item?((0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("div",h,[x,(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,g.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",A,[I,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.form.mac=e),class:"w-full border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[g.Jo,o.form.mac]])]),(0,r.Lk)("div",L,[C,(0,r.bo)((0,r.Lk)("select",{id:"countries","onUpdate:modelValue":t[1]||(t[1]=e=>o.form.areaId=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:placeholder-gray-400 dark:text-black dark:focus:ring-blue-500 dark:focus:border-blue-500"},[$,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.areas,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e._id,value:e._id},(0,k.v_)(e.name),9,w)))),128))],512),[[g.u1,o.form.areaId]])]),(0,r.Lk)("div",F,[E,(0,r.bo)((0,r.Lk)("select",{id:"countries","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.typeId=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:placeholder-gray-400 dark:text-black dark:focus:ring-blue-500 dark:focus:border-blue-500"},[_,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.cantennas,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e._id,value:e._id},(0,k.v_)(e.name),9,K)))),128))],512),[[g.u1,o.form.typeId]])]),(0,r.Lk)("div",B,[(0,r.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>o.closeDialog&&o.closeDialog(...e)),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Cancelar "),V])],32)])])):(0,r.Q3)("",!0)}var R=a(2683),X=a(5129),D={emits:["close","ItemCreate"],setup(e,{emit:t}){const a=(0,d.KR)(!0),o=(0,d.KR)([]),n=(0,d.KR)([]),s=(0,d.KR)({name:"",areaId:"",typeId:""}),l=async()=>{try{const e=X.A.state.token,t=await(0,c.ZL)(e);t&&(o.value=t.data.data,console.log("listado de areas correctamente"))}catch(e){console.assert("erro al listar areas")}},i=async()=>{try{const e=X.A.state.token,t=await(0,R.Pu)(e);t&&(n.value=t.data.data)}catch(e){console.log("error al listar categoria de antenas xd.")}},u=()=>{t("close")},m=async()=>{t("ItemCreate",s.value)};return(0,r.sV)(l(),i()),{item:a,form:s,closeDialog:u,submitForm:m,listAreas:l,areas:o,listCAntenna:i,cantennas:n}}},U=a(1241);const j=(0,U.A)(D,[["render",z]]);var S=j,W=a(4553),Q=a(197),Z=a(6329),q=a(9669),P=a(4750);function M(e,t,a,o,n,s){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(P.W,{modelValue:o.search,"onUpdate:modelValue":t[0]||(t[0]=e=>o.search=e),label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"mb-5 PT-3"},null,8,["modelValue"]),(0,r.bF)(Q.J,{flat:""},{default:(0,r.k6)((()=>[(0,r.bF)(Z.Py,{headers:o.headers,items:o.filteredItems,search:o.search},{["item.actions"]:(0,r.k6)((({item:e})=>[(0,r.bF)(q.w,{small:"",color:"green",class:"mr-4",onClick:t=>o.editItem(e)},{default:(0,r.k6)((()=>[(0,r.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,r.bF)(q.w,{small:"",color:"red",onClick:t=>o.deleteItem(e)},{default:(0,r.k6)((()=>[(0,r.eW)(" mdi-delete ")])),_:2},1032,["onClick"])])),_:2},1032,["headers","items","search"])])),_:1})],64)}var N={name:"DataTable",props:{items:{type:Array,required:!0}},emits:["deleteItem","editItem"],setup(e,{emit:t}){const a=(0,d.KR)(""),o=(0,d.KR)([{key:"id",title:"ID"},{key:"mac",title:"MAC"},{key:"area.name",title:"Area"},{key:"actions",title:"Acciones",sortable:!1}]),n=(0,r.EW)((()=>{if(!a.value)return s.value;const e=a.value.toLowerCase();return s.value.filter((t=>Object.values(t).some((t=>String(t).toLowerCase().includes(e)))))})),s=(0,r.EW)((()=>e.items.map(((e,t)=>({id:t+1,...e}))))),l=e=>{t("deleteItem",e)},i=e=>{t("editItem",e)};return{search:a,headers:o,filteredItems:n,deleteItem:l,editItem:i}}};const O=(0,U.A)(N,[["render",M],["__scopeId","data-v-13caf705"]]);var T=O,G={components:{DataTable:T,createForm:S,EditForm:W.A},setup(){const e=(0,d.KR)([]),t=(0,d.KR)(null),a=(0,d.KR)(null),o=(0,d.KR)(!1),n=(0,d.KR)(!1),s=(0,d.KR)(!1),l=(0,d.KR)(!1),i=()=>{s.value=!0},u=()=>{s.value=!1},m=()=>{o.value=!0},b=()=>{o.value=!1},g=e=>{t.value=e,n.value=!0},k=()=>{n.value=!1,t.value=null},v=e=>{a.value={...e},l.value=!0},h=()=>{l.value=!1},x=async e=>{m();try{const t=X.A.state.token,a=e._id,r={name:e.name,layoutId:e.layout._id},o=await(0,c.ZZ)(t,r,a);o&&(h(),b()),await L()}catch(t){b()}},A=async e=>{try{const t=X.A.state.token,a={mac:e.mac,areaId:e.areaId,typeId:e.typeId};await y(t,a),await L(),u()}catch(t){u(),console.error("error al crear area:",t)}},I=async e=>{m();try{const t=X.A.state.token,a=e._id,r=await p(t,a);r&&b(),await L()}catch(t){b(),console.error("Error al obtener los layout:",t)}},L=async()=>{m();try{const t=X.A.state.token,a=await f(t);e.value=a.data.data,a&&b()}catch(t){b(),console.error("Error al obtener las antenas:",t)}};return(0,r.sV)(L),{items:e,fetchItems:L,openLoading:m,closeLoading:b,isLoading:o,listAntennas:g,closeAntennaModal:k,deleteItems:I,isCreateFormVisible:s,openCreateForm:i,closeCreateForm:u,submitItems:A,updateItems:x,openEditForm:v,closeEditForm:h,isEditFormVisible:l,selectedItem:a,isAntennasModalVisible:n,selectedAntennas:t}}};const J=(0,U.A)(G,[["render",u]]);var H=J}}]);
//# sourceMappingURL=710.aaa31b58.js.map